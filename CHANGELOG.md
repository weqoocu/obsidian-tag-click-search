# 更新日志

所有重要的项目变更都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [1.4.0] - 2024-12-06

### ✨ 新增
- 📋 **批量复制功能**：支持多选笔记并批量复制内容
  - 每个搜索结果前添加复选框
  - 「全选/取消全选」按钮快速选择
  - 「复制选中」按钮批量复制（显示选中数量）
- 🧹 **自动去除 YAML**：复制时自动去除 YAML frontmatter 区域
- 📝 **智能格式化**：
  - 每个笔记以 `# 标题` 开头
  - 笔记之间用 `---` 分隔
  - 自动复制到系统剪贴板

### 🎨 界面优化
- ✅ 选中项高亮显示（带左侧蓝色边框）
- 🎯 复制按钮实时显示选中数量
- 💡 未选中时复制按钮置灰
- 🖱️ 点击复选框不会打开笔记

### 🔧 改进
- 优化头部布局，操作按钮更清晰
- 增强交互体验，操作更直观

## [1.3.7] - 2024-12-06

### 🔧 改进
- 📱 **移动端返回按钮位置优化**
  - 返回按钮从顶部移至底部
  - 更符合移动端操作习惯，减少手指移动距离
  - 底部固定（sticky），便于快速点击
- 🎨 **界面优化**
  - 增大按钮尺寸和内边距
  - 添加阴影效果，提升视觉层次
  - 更圆润的按钮圆角

## [1.3.6] - 2024-12-03

### ✨ 新增
- 📱 **移动端添加「← 返回」按钮**
  - 搜索面板顶部显示醒目的返回按钮
  - 点击返回按钮关闭搜索面板
  - 避免依赖系统手势返回导致的退出问题
- 🎨 **移动端界面优化**
  - 返回按钮固定在顶部（sticky）
  - 大尺寸按钮，便于点击
  - 使用主题色高亮显示

### 🔧 改进
- 💡 移动端使用水平分屏（horizontal split）
- 🎯 桌面端保持侧边栏模式不变
- 📊 更符合移动端用户习惯

## [1.3.5] - 2024-12-03

### 🐛 修复
- 📱 **修复移动端手势返回问题**
  - 移动端使用 split 分屏模式打开搜索结果
  - 支持手势向右滑动返回上一页
  - 避免手势返回时退出 Obsidian 应用
- 🎯 优化移动端用户体验
  - 搜索结果显示在右侧分屏
  - 保持原笔记在左侧可见
  - 更符合移动端操作习惯

### 🔧 改进
- 💡 移动端：split 垂直分屏模式
- 🖥️ 桌面端：保持侧边栏模式不变

## [1.3.4] - 2024-12-03

### 🐛 修复
- 📱 **修复移动端标签点击无响应问题**
  - 移动端额外监听 `touchend` 事件
  - 移动端使用新标签页打开搜索结果（而非侧边栏）
  - 添加平台检测日志，便于调试
- 🎯 优化视图打开逻辑
  - 桌面端：在右侧边栏打开
  - 移动端：在新标签页打开
  - 自动检测并复用已打开的搜索视图

### 🔧 改进
- 📊 增强跨平台兼容性
- 💡 添加详细的平台和事件日志

## [1.3.3] - 2024-12-03

### 🐛 修复
- 🔍 修复标签搜索时空格导致的匹配失败问题
  - 标签比对时自动去除所有空格进行规范化
  - 支持 `#无极AI`、`#无极 AI` 等各种格式的标签搜索
- 📊 增加详细的调试日志，便于排查搜索问题

### 🔧 改进
- 💪 标签规范化：搜索和匹配时统一去除空格
- 🎯 更健壮的标签匹配逻辑

## [1.3.2] - 2024-12-03

### ✨ 新增
- 🔍 **空格分词模糊搜索**：支持多关键词组合搜索
  - 输入 `S姐 任务` 可以匹配 `为S姐新建一个任务管理平台`
  - 输入 `任务 S姐` 也能匹配同样的标题
  - 关键词顺序无关，只要标题包含所有关键词即可
- 🎯 **智能分词**：自动按空格分割搜索关键词
- 💡 **灵活匹配**：多个关键词必须同时出现在标题中

### 🔧 改进
- 📊 增强标题搜索能力，提高检索效率
- 🌏 完美支持中文多关键词搜索
- ⚡ 保持原有性能，快速响应

## [1.3.1] - 2024-12-03

### 🐛 修复
- 🔧 修复标题搜索时 `title.toLowerCase is not a function` 错误
  - 添加类型检查，确保 title 字段始终为字符串类型
  - 支持 frontmatter 中 title 为数字或其他类型的情况
- 🎯 修复标签联想逻辑：不带 `#` 号时不显示标签建议
  - 标题搜索模式下不再触发标签联想下拉列表
  - 只有输入包含 `#` 时才显示标签建议

### 🔧 改进
- 💪 增强代码健壮性，防止类型错误
- 📊 优化排序逻辑，确保类型安全

## [1.3.0] - 2024-12-03

### ✨ 新增
- 🔍 **双模式搜索**：支持标签搜索和标题搜索两种模式
  - 带 `#` 号：按标签搜索（如：`#项目管理`）
  - 不带 `#` 号：按标题搜索（如：`会议纪要`）
- 📝 **智能标题搜索**：搜索笔记的 title 属性或文件名
- 🎯 **自动模式识别**：根据输入内容自动判断搜索类型
- 📊 **差异化展示**：不同搜索模式使用不同图标和标题样式

### 🔧 改进
- 💡 优化输入框提示文案：`带#搜索标签，不带#搜索标题`
- 🎨 标题搜索使用文件图标，标签搜索使用标签图标
- 📈 搜索结果标题自动显示搜索类型和关键词
- ⚡ 标题搜索不区分大小写，支持模糊匹配
- 🌏 完美支持中文标题和标签的混合搜索

### 🎮 用户体验
- 标签建议点击后自动添加 `#` 前缀
- 搜索结果面板标题动态显示搜索内容
- 保持原有点击标签功能的完整兼容

## [1.2.0] - 2024-11-29

### ✨ 新增
- 🎯 **智能标签建议**：输入时自动显示匹配的标签建议列表
- ⌨️ **键盘导航**：支持上下箭头选择建议，Enter 键确认
- 🔍 **实时过滤**：根据输入内容实时过滤和显示标签
- 📊 **标签排序**：建议列表按字母顺序智能排序
- 🎨 **美化界面**：专业的下拉建议样式，完美适配主题

### 🔧 改进
- 💡 自动收集所有 vault 中的标签
- 🎯 支持中文、英文、嵌套标签的智能匹配
- 📈 最多显示 10 个最相关的标签建议
- ⚡ 优化性能，快速响应用户输入
- 🖱️ 点击建议项自动搜索对应标签

### 🎮 交互优化
- ESC 键关闭建议列表
- 点击外部区域自动关闭建议
- 鼠标悬停高亮当前项
- 滚动条美化

## [1.1.0] - 2024-11-29

### ✨ 新增
- 🔍 **搜索输入框**：在搜索结果面板中添加了输入框，支持手动输入标签搜索
- 📝 **智能标签处理**：输入时自动兼容带 `#` 或不带 `#` 的标签格式
- ⌨️ **快捷操作**：支持回车键快速搜索
- 🎨 **美化界面**：优化了搜索面板的视觉设计和用户体验

### 🔧 改进
- 💡 更直观的标签搜索体验
- 🎯 用户可以直接输入标签名，无需点击现有标签
- 📊 实时显示搜索结果数量

## [1.0.3] - 2024-11-29

### ✨ 新增
- 🎯 点击标签自动搜索功能
- 📊 按笔记 title 属性智能排序
- 🌏 完美支持中文标签和排序
- 📱 支持桌面端和移动端
- 🤝 与 Tag Wrangler、TagFolder 等插件兼容

### 🔧 技术特性
- ⚡ 高性能标签检测算法
- 🎨 自定义搜索结果视图
- 🔍 智能文件遍历和匹配
- 📝 支持 frontmatter 标签格式

### 📖 文档
- 📚 完整的 README 文档
- 🛠️ 详细的安装和使用指南
- 🐛 故障排除指南
- 🗺️ 开发路线图

## [计划中的版本]

### [1.4.0] - 计划中
- [ ] 🎨 添加配置面板
- [ ] 📊 多种排序选项
- [ ] 🔢 搜索结果分页
- [ ] 🎯 搜索范围限制

### [1.5.0] - 计划中
- [ ] 🏷️ 嵌套标签支持
- [ ] 🔍 多标签组合搜索
- [ ] 📱 移动端界面优化
- [ ] 🎨 主题适配改进

### [2.0.0] - 远期计划
- [ ] 📈 搜索统计分析
- [ ] 🔄 搜索历史记录
- [ ] 🤖 智能标签推荐
- [ ] 🔗 标签关系可视化

---

## 版本说明

- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

## 贡献指南

如果你想为此项目贡献代码或建议，请查看我们的 [贡献指南](README.md#🤝-贡献指南)。